<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TFT 성향 분석 사이트</title>
  <link rel="stylesheet" href="home.css">
</head>
<body>
  <div class="container">
    <img id="background" src="assets/background.png" alt="Background">
    <img id="logo" src="assets/logo.png" alt="Riot Games Logo">

    <div class="wrap">
      <div class="image-container">
        <video id="mainChamp" class="main-champ" autoplay muted>
          <source id="videoSource" src="assets/zed.webm" type="video/webm">
          브라우저가 비디오 태그를 지원하지 않는 경우 표시될 텍스트
        </video>
        <div id="overlayContent" class="overlay-content" style="display: none;">
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <input type="text" placeholder="이름" class="input-field">
          <input type="text" placeholder="소환사명#태그" class="input-field">
          <button id="resultButton" class="button" style="display: none;">결과 보기</button>
        </div>
        <div id="mainTextDiv" class="main-text-div">
          <h1>
            LOL을 통해 보는<br>나의 TFT 성향은?
          </h1>
          <button id="actionButton" class="button">성향 알아보기</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const mainChamp = document.getElementById('mainChamp');
    const videoSource = document.getElementById('videoSource');
    const overlayContent = document.getElementById('overlayContent');
    const actionButton = document.getElementById('actionButton');
    const mainTextDiv = document.getElementById('mainTextDiv');
    const resultButton = document.getElementById('resultButton');

    let isBlurred = false;

    // 첫 번째 비디오가 끝나면 zed2로 변경
    mainChamp.addEventListener('ended', () => {
      if (videoSource.src.includes('zed.webm')) {
        videoSource.src = 'assets/zed2.webm'; // 두 번째 영상 파일
        mainChamp.loop = true; // 두 번째 영상 무한 반복
        mainChamp.load();
        mainChamp.play();
      }
    });

    actionButton.addEventListener('click', () => {
      if (!isBlurred) {
        // 비디오에 블러 효과 추가
        mainChamp.style.filter = 'blur(5px)';
        overlayContent.style.display = 'block';
        overlayContent.classList.add('fade-in');
        mainTextDiv.classList.add('blurred-text');
        actionButton.textContent = '홈으로 이동';
        actionButton.classList.add('blurred-button');
        resultButton.style.display = 'block';
      } else {
        // 비디오 블러 효과 제거
        mainChamp.style.filter = 'none';
        overlayContent.style.display = 'none';
        overlayContent.classList.remove('fade-in');
        mainTextDiv.classList.remove('blurred-text');
        actionButton.textContent = '성향 알아보기';
        actionButton.classList.remove('blurred-button');
        resultButton.style.display = 'none';
      }
      isBlurred = !isBlurred;
    });

    resultButton.addEventListener('click', () => {
      window.location.href = 'loading.html';
    });
  </script>
</body>
</html>
